<ion-content no-bounce class="login-content">
  <ion-grid style="display: block !important;" no-padding>
    <ion-row class="bg-img" justify-content-center no-padding>
      <ion-col size-sm="8" size-lg="6" size-xl="4" align-self-center no-padding>
        <div class="login-header" text-center>
          <img
            width="142.519"
            height="59.287"
            style="margin-bottom: 18px; margin-top: 1.1rem;"
            src="../assets/Logo_XGrowth_Christ.svg"
            alt="Logo xGrowth"
          />
          <!-- <svg
            xmlns="http://www.w3.org/2000/svg"
            width="142.519"
            height="39.287"
            viewBox="0 0 142.519 39.287"
            style="margin-bottom: 24px; margin-top: 2rem;"
          >
            <defs>
              <style>
                .a {
                  fill: #fff;
                }
              </style>
            </defs>

            <path
              class="a"
              d="M.086,32.275,8.573,19.559a.589.589,0,0,0,0-.662L3.03,10.773a.589.589,0,0,1,.316-.9L7.6,8.683a.589.589,0,0,1,.672.247l4.251,6.034a.589.589,0,0,0,1,0L23.438.261A.589.589,0,0,1,24.11.015l4.182,1.153a.589.589,0,0,1,.326.888L17.208,19.694a.589.589,0,0,0,0,.644l5.453,8.344a.589.589,0,0,1-.5.917H17.212a.589.589,0,0,1-.5-.283l-3.49-5.058a.589.589,0,0,0-1-.016l-6.142,8.69a.589.589,0,0,1-.493.265H.575a.589.589,0,0,1-.489-.923ZM41.666,9.221a.589.589,0,0,1,.589.589V30.574a7.629,7.629,0,0,1-2.946,6.45,12.692,12.692,0,0,1-7.9,2.249,18.641,18.641,0,0,1-4.2-.652,14.039,14.039,0,0,1-3.677-1.375.589.589,0,0,1-.246-.746l1.2-2.83a.589.589,0,0,1,.786-.31,18.446,18.446,0,0,0,2.9,1.084,13.278,13.278,0,0,0,3.109.464,6.437,6.437,0,0,0,3.972-1.22,3.811,3.811,0,0,0,1.493-3.143v-.733a.589.589,0,0,0-.852-.521,8.287,8.287,0,0,1-3.646.835,9.885,9.885,0,0,1-7.5-2.88A10.824,10.824,0,0,1,22,19.435,12.26,12.26,0,0,1,23.242,13.8a8.916,8.916,0,0,1,3.593-3.783,11.1,11.1,0,0,1,5.59-1.344,7.574,7.574,0,0,1,2.962.672A10.866,10.866,0,0,1,37.7,10.681a.589.589,0,0,0,.845-.151l.684-1.039a.589.589,0,0,1,.493-.269Zm-7.071,15.8a9.709,9.709,0,0,0,1.915-1.082.589.589,0,0,0,.249-.483V15.35a.6.6,0,0,0-.22-.466,7.464,7.464,0,0,0-1.888-1.145,5.877,5.877,0,0,0-2.186-.393,4.226,4.226,0,0,0-3.536,1.7,6.942,6.942,0,0,0-1.3,4.388,6.932,6.932,0,0,0,1.281,4.351,4.227,4.227,0,0,0,3.551,1.66,5.6,5.6,0,0,0,2.123-.418Zm42.529,0a9.3,9.3,0,0,1-3.8,3.761,11.912,11.912,0,0,1-5.736,1.324,12.07,12.07,0,0,1-5.737-1.3,9.177,9.177,0,0,1-3.8-3.718,11.373,11.373,0,0,1-1.351-5.651,11.536,11.536,0,0,1,1.345-5.673,9.267,9.267,0,0,1,3.8-3.756,11.894,11.894,0,0,1,5.737-1.324,12.1,12.1,0,0,1,5.736,1.3,9.183,9.183,0,0,1,3.8,3.714,11.459,11.459,0,0,1,1.344,5.653,11.582,11.582,0,0,1-1.344,5.675Zm-5.779-1.3a6.434,6.434,0,0,0,1.491-4.37,6.3,6.3,0,0,0-1.471-4.321,5.03,5.03,0,0,0-7.543.043,6.421,6.421,0,0,0-1.493,4.37A6.317,6.317,0,0,0,63.8,23.762a5.03,5.03,0,0,0,7.545-.043Zm24.142,5.464L92.364,19.017a.589.589,0,0,0-1.135,0L88.253,29.174a.589.589,0,0,1-.57.426H83.942a.589.589,0,0,1-.566-.416L77.59,10.639a.589.589,0,0,1,.393-.744l4.209-1.251a.589.589,0,0,1,.744.424l2.43,9.7a.589.589,0,0,0,1.151,0l2.251-9.092a.589.589,0,0,1,.589-.454h5.089a.589.589,0,0,1,.574.44l2.43,9.171A.589.589,0,0,0,98.6,18.82l2.237-9.143a.589.589,0,0,1,.576-.452h4.48a.589.589,0,0,1,.566.782l-6.136,19.2a.589.589,0,0,1-.564.412h-3.71a.589.589,0,0,1-.566-.43ZM119.41,9.64l1.208,3.017a.589.589,0,0,1-.552.813h-3.909a.589.589,0,0,0-.589.589v8.067a4.185,4.185,0,0,0,.786,2.648,2.644,2.644,0,0,0,2.208,1.01,4.838,4.838,0,0,0,1.691-.318.589.589,0,0,1,.76.33l1.192,2.946a.589.589,0,0,1-.265.744,7.146,7.146,0,0,1-1.424.589,7.749,7.749,0,0,1-2.249.379,8.592,8.592,0,0,1-5.967-1.933,6.987,6.987,0,0,1-2.161-5.429V14.057a.589.589,0,0,0-.589-.589H108a.589.589,0,0,1-.589-.589V9.86A.589.589,0,0,1,108,9.27h1.546a.589.589,0,0,0,.589-.589V4.929a.589.589,0,0,1,.487-.589l4.237-.754a.589.589,0,0,1,.7.589v4.5a.589.589,0,0,0,.589.589h2.7A.589.589,0,0,1,119.41,9.64Zm21.538,1.1a10.391,10.391,0,0,1,1.554,6.089V29a.589.589,0,0,1-.589.589h-4.284a.589.589,0,0,1-.589-.589V17.078a4.847,4.847,0,0,0-.786-2.946,2.553,2.553,0,0,0-2.161-1.051,5.777,5.777,0,0,0-2.689.658,21.547,21.547,0,0,0-2.522,1.571.6.6,0,0,0-.251.487V29.019a.589.589,0,0,1-.589.589H123.8a.589.589,0,0,1-.589-.589V.944a.589.589,0,0,1,.542-.589l4.233-.365a.589.589,0,0,1,.644.589V9.761a.589.589,0,0,0,.87.521,16.335,16.335,0,0,1,2.7-1.141,11.072,11.072,0,0,1,3.321-.589q3.866,0,5.421,2.186ZM56.29,9.18a10.2,10.2,0,0,0-6.511,2.508.2.2,0,0,1-.324-.163V9.783a.609.609,0,0,0-.609-.609H44.573a.609.609,0,0,0-.609.609V29.007a.609.609,0,0,0,.609.609h4.26a.609.609,0,0,0,.609-.609V17.141c1.784-1.571,4.614-3.339,6.875-3.561a.416.416,0,0,0,.381-.393v-3.6a.409.409,0,0,0-.42-.407Z"
              transform="translate(0.018 0.013)"
            />
          </svg> -->
          <!-- <img src="../../assets/menuLogo.png" /> -->
          <h4 class="welcome-back text-uppercase" [translate]="'Welcome'">!</h4>
        </div>

        <div class="sso-message box" *ngIf="!isBlocked && ssoLoading">
          Authenticating by SSO...
        </div>

        <div *ngIf="isBlocked && !ssoLoading" class="box">
          <mat-tab-group
            mat-stretch-tabs
            disablePagination
            animationDuration="0ms"
            (selectedTabChange)="switchTab($event)"
          >
            <mat-tab label="login">
              <div class="login-container">
                <div class="block-message">
                  <p class="message-title">ACCESS DENIED</p>
                  <p class="message-text">Your country has been blocked for security reasons</p>
                </div>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
        <div *ngIf="!isBlocked && !ssoLoading" class="box">
          <mat-tab-group
            mat-stretch-tabs
            disablePagination
            animationDuration="0ms"
            (selectedTabChange)="switchTab($event)"
          >
            <mat-tab label="login">
              <div class="login-container">
                <form [formGroup]="loginForm" novalidate>
                  <ion-text color="danger" [hidden]="!error || loginForm.dirty || isLoading">
                    <span class="ion-padding">{{ error }}</span>
                  </ion-text>
                  <ion-list>
                    <label class="input-label">Email</label>
                    <mat-form-field [hideRequiredMarker]="true" style="padding-bottom: 1rem;">
                      <input
                        id="loginFormName"
                        type="text"
                        matInput
                        formControlName="username"
                        autocomplete="username"
                        required
                        (keyup.enter)="nextStep()"
                      />
                      <mat-error *ngIf="loginForm.controls.username.invalid && loginForm.controls.username.touched">
                        <span [translate]="'Username is required'"></span>
                      </mat-error>
                    </mat-form-field>
                    <ng-container *ngIf="showPasswordField">
                      <label class="input-label" [translate]="'Password'"></label>
                      <mat-form-field [hideRequiredMarker]="true">
                        <input
                          [type]="passIsVisible ? 'text' : 'password'"
                          id="loginFormPassword"
                          matInput
                          formControlName="password"
                          autocomplete="current-password"
                          required
                          (keyup.enter)="login()"
                        />
                        <img
                          id="login-password-visibility"
                          (click)="passIsVisible = !passIsVisible"
                          class="password-visibility"
                          width="16px"
                          height="13px"
                          [src]="
                            passIsVisible
                              ? '../../../../assets/password_visible.svg'
                              : '../../../../assets/password_not_visible.svg'
                          "
                          alt="Password icon"
                        />
                        <mat-error *ngIf="loginForm.controls.password.invalid && loginForm.controls.password.touched">
                          <span [translate]="'Password is required'"></span>
                        </mat-error>
                      </mat-form-field>
                    </ng-container>
                    <div class="login-bottom-div">
                      <div class="remember-password-div">
                        <ion-checkbox slot="start" formControlName="remember"></ion-checkbox>
                        <ion-label class="remember-text" [translate]="'Remember me'"></ion-label>
                      </div>
                    </div>
                    <div class="col text-center">
                      <ion-button
                        [ngClass]="
                          loginBtnText === 'LOGIN WITH MICROSOFT'
                            ? ['login-button', 'ion-button-a']
                            : ['login-button', 'ion-button']
                        "
                        (click)="nextStep()"
                        [disabled]="isLoading"
                        expand="block"
                        color="primary"
                        id="loginButton"
                      >
                        {{ loginBtnText }}
                      </ion-button>
                    </div>
                  </ion-list>
                </form>
                <div class="forgot-password-div">
                  <ion-label class="forgot-password">
                    <a [translate]="'Forgot password'" (click)="modalForgotPassword()"></a>
                  </ion-label>
                </div>
              </div>

              <ion-button
                (click)="installPwa()"
                [disabled]="isLoading"
                *ngIf="showPWABtn"
                expand="block"
                class="login-button ion-button"
                color="primary"
              >
                INSTALL APP
              </ion-button>
            </mat-tab>
          </mat-tab-group>
          <div style="padding: 0rem 1 rem 1 rem 1rem; text-align: center; margin-top: 1rem">
            <div>
              <ion-label class="help" [translate]="'Need Help'"></ion-label>
              <a (click)="openContactModal('contact us', 'gabriel.marques@growinco.com')">
                <span class="contact-us" [translate]="'Contact Us'"></span>
              </a>
            </div>
            <div>
              <a href="../../assets/Terms and Conditions.pdf">
                <ion-label class="contact-us" [translate]="'Terms and Conditions'"></ion-label>
              </a>
            </div>
            <!-- <i class="fas fa-globe" style="float: right; color: #70C1ED;" (click)="changeLanguage($event)"></i> -->
          </div>
          <hr style="margin-bottom: 0px;" />
          <div class="register" style="display: flex; align-items: center;justify-content: center; height: 50px;">
            <a (click)="goToRegister()">
              <span class="create-account">Create account</span>
            </a>
          </div>
        </div>
        <footer class="login-footer text-center">
          <h6 class="footer-text" [translate]="'Powered by'"></h6>
          <svg
            id="Camada_1"
            data-name="Camada 1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 1291.08 200"
            width="114"
            height="31.429"
          >
            <defs>
              <style>
                .cls-1 {
                  fill: #fff;
                }
              </style>
            </defs>
            <path
              class="cls-1"
              d="M296.94,64.75V80.64a7.86,7.86,0,0,1-7.42,7.78c-17.45,1.23-34.93,11.55-34.93,38.5v61.4a7.91,7.91,0,0,1-7.91,7.91H232.79a7.91,7.91,0,0,1-7.9-7.91V66.63a7.91,7.91,0,0,1,7.9-7.91h13.89a7.91,7.91,0,0,1,7.91,7.91V81.82C261.38,66.43,274,59,287.85,56.92A7.91,7.91,0,0,1,296.94,64.75Z"
            />
            <path
              class="cls-1"
              d="M658.1,69l-38.21,121.7a7.91,7.91,0,0,1-7.54,5.54H594.84a7.91,7.91,0,0,1-7.56-5.58l-26.88-87.1-27.15,87.12a7.91,7.91,0,0,1-7.55,5.56H508.18a7.92,7.92,0,0,1-7.55-5.54L462.42,69A7.9,7.9,0,0,1,470,58.72h14.59a7.9,7.9,0,0,1,7.62,5.77l25.05,89.11,27.17-89.28a7.91,7.91,0,0,1,7.57-5.6h16.59a7.9,7.9,0,0,1,7.57,5.62L603,153.6l25.32-89.14a7.89,7.89,0,0,1,7.6-5.74h14.61A7.9,7.9,0,0,1,658.1,69Z"
            />
            <path
              class="cls-1"
              d="M679.19,19.11a18.95,18.95,0,0,1,36-8.33c6.4,13.16-3.76,27.31-17,27.31A19.2,19.2,0,0,1,679.19,19.11Zm12,39.61h13.89a7.91,7.91,0,0,1,7.9,7.91V188.32a7.91,7.91,0,0,1-7.9,7.91H691.23a7.91,7.91,0,0,1-7.91-7.91V66.63A7.91,7.91,0,0,1,691.23,58.72Z"
            />
            <path
              class="cls-1"
              d="M872.53,111.8v76.52a7.91,7.91,0,0,1-7.91,7.91H850.73a7.91,7.91,0,0,1-7.91-7.91v-73.5c0-20.9-12.1-31.9-30.8-31.9-19.52,0-34.92,11.55-34.92,39.6v65.8a7.91,7.91,0,0,1-7.91,7.91H755.3a7.91,7.91,0,0,1-7.91-7.91V66.63a7.91,7.91,0,0,1,7.91-7.91h13.89a7.91,7.91,0,0,1,7.91,7.91v9.69C786.17,62,801,55.14,819.72,55.14,850.53,55.14,872.53,76,872.53,111.8Z"
            />
            <path
              class="cls-1"
              d="M900,100C900,45,941.55.69,1000.13.69c33.18,0,62.5,15.87,79.21,40.87a5.93,5.93,0,0,1-2,8.39l-2.53,1.45a6,6,0,0,1-8-2c-13.56-20.91-38.57-34.67-66.66-34.67-50.61,0-85.54,38-85.54,85.26s34.93,85.26,85.54,85.26c28.36,0,53.64-14,67.23-35.42a6,6,0,0,1,8-2.07l2.55,1.47a5.91,5.91,0,0,1,2.06,8.32c-16.51,25.34-46.14,41.72-79.86,41.72C941.55,199.25,900,155,900,100Z"
            />
            <path
              class="cls-1"
              d="M1104.07,127.47c0-40.7,32.18-71.78,72.34-71.78,39.87,0,72,31.08,72,71.78s-32.18,71.78-72,71.78C1136.25,199.25,1104.07,168.18,1104.07,127.47Zm130.36,0c0-32.21-24.51-57.76-56.49-58.56-32.42-.8-59.84,26.13-59.84,58.56,0,32.17,24.72,57.7,56.64,58.56C1207.11,186.9,1234.43,159.85,1234.43,127.47Z"
            />
            <path
              class="cls-1"
              d="M1266.33,186.6a12.14,12.14,0,0,1,12-12.37,12.38,12.38,0,1,1,.42,24.75A12.15,12.15,0,0,1,1266.33,186.6Z"
            />
            <path
              class="cls-1"
              d="M197.45,106.38A10.67,10.67,0,0,0,187,95.49l-74.87-1.72a10.67,10.67,0,0,0-10.89,10.44l-.45,10.09a10.67,10.67,0,0,0,10.44,10.89l49.29-.28c-10.71,22-31.88,46.55-70.16,43.41-46.18-3.79-60.53-48.81-57.54-76.72C37.63,46.93,83.89,26.16,113.59,32c26.75,5.3,34.07,18.17,42.9,29.53,3,3.83,8,8.49,16.46,1.88l6.5-5.51c5.39-3.49,10-9,6-15.25C170.66,20,149.28,7.16,120,1.8,64-8.45,12.88,26,2,81.35-8.7,136.18,23.6,193,84.07,199.51c33.14,3.56,69.82-12.26,83.28-47.43l-.85,33.21a10.66,10.66,0,0,0,10.44,10.89l9.62,0a10.67,10.67,0,0,0,10.89-10.44Z"
            />
            <path
              class="cls-1"
              d="M345.4,156.82a43.71,43.71,0,0,1-10.79-29.35c0-25,18.71-43.45,42.91-43.45a42.68,42.68,0,0,1,29.38,11.3l20.69-20.69a72.72,72.72,0,0,0-50.07-19.49c-40.15,0-72.61,31.35-72.61,72.33a71.78,71.78,0,0,0,19.86,50Z"
            />
            <path
              class="cls-1"
              d="M411,99.64a44,44,0,0,1,9.46,27.83c0,25-18.7,43.45-42.9,43.45A42.83,42.83,0,0,1,349.63,161L329,181.58a72.75,72.75,0,0,0,48.49,18.22c40.43,0,72.6-31.62,72.6-72.33a71.93,71.93,0,0,0-18.37-48.61Z"
            />
          </svg>
        </footer>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
