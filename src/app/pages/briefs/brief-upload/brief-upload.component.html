<ion-content *ngIf="!isLoading" style="--background: #F6F6F6F6;">
  <div class="header" (click)="back()">
    <ion-button shape="round" class="back-icon-header">
      <i class="fas fa-chevron-left"></i>
    </ion-button>
    <ion-label class="back-label" [translate]="'global.actions.back'"></ion-label>
  </div>
  <div class="mobile" *ngIf="brief">
    <div class="cover-image">
      <div class="box">
        <div class="arrow-back">
          <ion-button
            style="--background: none;
            --border-color: none;
            --box-shadow: none;
            --background-hover: transparent;
            outline: none;"
            [routerLink]="['/briefs']"
            routerDirection="“back”"
          >
            <i class="fas fa-chevron-left" style="color: #F6A117"></i>
          </ion-button>
        </div>
        <div class="row">
          <div class="col text-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="70" height="80" viewBox="0 0 70 80">
              <defs>
                <style>
                  .a {
                    fill: #616060;
                  }
                </style>
              </defs>
              <path
                class="a"
                d="M62.5,35H58.75V23.75a23.75,23.75,0,1,0-47.5,0V35H7.5A7.5,7.5,0,0,0,0,42.5v30A7.5,7.5,0,0,0,7.5,80h55A7.5,7.5,0,0,0,70,72.5v-30A7.5,7.5,0,0,0,62.5,35ZM46.25,35H23.75V23.75a11.25,11.25,0,1,1,22.5,0Z"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>
    <div class="brief-information-div">
      <div class="brief-information-container">
        <div class="brief-information">
          <ion-grid>
            <ion-row>
              <ion-avatar>
                <img
                  *ngIf="brief.ClientId.logo"
                  [src]="brief.ClientId.logo.url"
                  style="object-fit: scale-down;"
                  onerror="this.src='../../../assets/EmptyProfileLogo.png'"
                />
              </ion-avatar>
              <div class="company">
                <div class="company-name" style="margin-top: 0.5rem;">{{ brief.ClientId.companyName }}</div>
                <div class="post-datetime" style="margin-top: -1rem;">
                  <span [translate]="'briefs.postedOn'"></span>
                  <span> {{ brief.createdAt | date }}</span>
                </div>
              </div>
            </ion-row>
          </ion-grid>
        </div>
      </div>
      <div class="boxes">
        <div
          class="box-1"
          style="border: 1px solid #70C1ED;
                    border-radius: 4px 0px 0px 4px;"
        >
          <div class="col text-center">
            <a>{{ brief?.type?.name }}</a>
          </div>
        </div>
        <div
          class="box-1"
          style="margin-left: 0.2rem; border: 1px solid #70C1ED;
            border-radius: 0px 4px 4px 0px;"
        >
          <div class="col text-center" style=" padding-right: 0px; padding-left: 0px;">
            <a>
              <span [translate]="'briefs.dueOn'"></span>
              {{ brief.Deadline | date }}
            </a>
          </div>
        </div>
      </div>
      <div class="boxes">
        <div class="box-2">
          <div class="col text-center">
            <a [translate]="'briefs.briefReceived'"></a>
          </div>
        </div>
      </div>
    </div>
    <!-- <ion-grid class="categories-container">
      <ion-chip outline color="secondary" *ngFor="let category of brief.Categories; let index = i">
        <ion-label>{{ category.name }}</ion-label>
      </ion-chip>
    </ion-grid> -->
    <div class="upload-nda">
      <div class="col text-center" style="display: grid;">
        <ion-label [translate]="'briefs.respond.toAccess'"></ion-label>
        <ion-label [translate]="'briefs.respond.signNda'"></ion-label>
      </div>
      <div class="steps">
        <div class="row">
          <div class="number-circle-active">1</div>
        </div>
        <div class="step">
          <ion-label class="highlight-word" [translate]="'briefs.respond.download'"></ion-label>
          <ion-label [translate]="'briefs.respond.nda'"></ion-label>
        </div>
        <div class="line" style="height: 45px;"></div>
        <div class="row" style="margin-top: 0.5rem;">
          <div
            [ngClass]="{
              'number-circle': !firstStepOK,
              'number-circle-active': firstStepOK
            }"
          >
            2
          </div>
        </div>
        <div class="step">
          <ion-label [translate]="'briefs.respond.sign'"></ion-label>
          <ion-label class="highlight-word" [translate]="'briefs.respond.upload'"></ion-label>
        </div>
        <div class="line" style="height: 45px;"></div>
        <div class="row" style="margin-top: 0.5rem;">
          <div
            [ngClass]="{
              'number-circle': !secondStepOK,
              'number-circle-active': secondStepOK
            }"
          >
            3
          </div>
        </div>
        <div class="step">
          <ion-label [translate]="'briefs.respond.wait'"></ion-label>
          <ion-label [translate]="'briefs.respond.approval'"></ion-label>
        </div>
      </div>
      <div class="row">
        <div class="col text-center">
          <ion-button
            shape="round"
            style="--background: #70C1ED;
              --background-hover: #70C1ED;
              --color-hover: white;
                        color: white;
                        margin-top: 2rem;
                        text-transform: none;
                        --box-shadow: none;"
            (click)="followSteps()"
          >
            <span [translate]="'briefs.respond.followSteps'"></span>
            <i class="fa fa-arrow-right" aria-hidden="true" style="margin-left: 1rem;"></i>
          </ion-button>
        </div>
      </div>
    </div>
  </div>
  <div class="desktop" *ngIf="brief">
    <div class="card">
      <ion-row>
        <ion-col style="background-color: #dededf; border-radius: 20px 0px 0px 20px;">
          <div class="cover-image">
            <div class="box">
              <div class="row">
                <div class="col text-center" style="margin-top: 7rem;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="70" height="80" viewBox="0 0 70 80">
                    <defs>
                      <style>
                        .a {
                          fill: #616060;
                        }
                      </style>
                    </defs>
                    <path
                      class="a"
                      d="M62.5,35H58.75V23.75a23.75,23.75,0,1,0-47.5,0V35H7.5A7.5,7.5,0,0,0,0,42.5v30A7.5,7.5,0,0,0,7.5,80h55A7.5,7.5,0,0,0,70,72.5v-30A7.5,7.5,0,0,0,62.5,35ZM46.25,35H23.75V23.75a11.25,11.25,0,1,1,22.5,0Z"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </ion-col>
        <ion-col>
          <div class="brief-information-div">
            <div class="brief-information-container">
              <div class="brief-information">
                <ion-avatar *ngIf="brief.ClientId.logo.url">
                  <img
                    [src]="brief.ClientId.logo.url"
                    style="object-fit: scale-down;"
                    onerror="this.src=fallbackImage(i)"
                  />
                </ion-avatar>
                <div class="company" style="margin-left: 0.5rem;">
                  <div class="company-name">{{ brief.ClientId.companyName }}</div>
                  <div class="post-datetime">
                    <span [translate]="'briefs.postedOn'"></span>
                    {{ brief.createdAt | date }}
                  </div>
                </div>
              </div>
            </div>
            <div class="boxes">
              <div
                class="box-1"
                style="border: 1px solid #70C1ED;
                      border-radius: 4px 0px 0px 4px;"
              >
                <div>
                  <a>
                    {{ brief?.type?.name }}
                  </a>
                </div>
              </div>
              <div
                class="box-1"
                style="margin-left: 0.2rem; border: 1px solid #70C1ED;
                      border-radius: 0px 4px 4px 0px;"
              >
                <div>
                  <a>
                    <span [translate]="'briefs.dueOn'"></span>
                    {{ brief.Deadline | date }}
                  </a>
                </div>
              </div>
            </div>
            <div class="boxes" style="margin-top: 6rem;">
              <div class="box-2">
                <div>
                  <a [translate]="'briefs.briefReceived'"> </a>
                </div>
              </div>
            </div>
          </div>
          <!-- <ion-grid class="categories-container-desktop">
            <ion-chip outline color="secondary" *ngFor="let category of brief.Categories; let index = i">
              <ion-label>{{ category.name }}</ion-label>
            </ion-chip>
          </ion-grid> -->
        </ion-col>
      </ion-row>
    </div>
    <div class="upload-nda">
      <div class="col text-center" style="display: grid;">
        <ion-label [translate]="'briefs.respond.toAccess'"></ion-label>
        <ion-label [translate]="'briefs.respond.signNda'"></ion-label>
      </div>
      <div class="steps">
        <div class="row">
          <div class="number-circle-active">1</div>
        </div>
        <div class="step">
          <ion-label class="highlight-word" [translate]="'briefs.respond.download'"></ion-label>
          <ion-label [translate]="'briefs.respond.nda'"></ion-label>
        </div>
        <div class="line" style="height: 45px;"></div>
        <div class="row" style="margin-top: 0.5rem;">
          <div
            [ngClass]="{
              'number-circle': !firstStepOK,
              'number-circle-active': firstStepOK
            }"
          >
            2
          </div>
        </div>
        <div class="step">
          <ion-label [translate]="'briefs.respond.sign'"></ion-label>
          <ion-label class="highlight-word" [translate]="'briefs.respond.upload'"></ion-label>
        </div>
        <div class="line" style="height: 45px;"></div>
        <div class="row" style="margin-top: 0.5rem;">
          <div
            [ngClass]="{
              'number-circle': !secondStepOK,
              'number-circle-active': secondStepOK
            }"
          >
            3
          </div>
        </div>
        <div class="step">
          <ion-label [translate]="'briefs.respond.wait'"></ion-label>
          <ion-label class="highlight-word" [translate]="'briefs.respond.approval'"></ion-label>
        </div>
      </div>
      <div class="row">
        <div class="col text-center">
          <ion-button
            shape="round"
            style="--background: #70C1ED;
            --background-hover: #70C1EDad;
            --color-hover: white;
                      color: white;
                      margin-top: 2rem;
                      text-transform: none;
                      --box-shadow: none;"
            (click)="followSteps()"
          >
            <span [translate]="'briefs.respond.followSteps'"></span>
            <i class="fa fa-arrow-right" aria-hidden="true" style="margin-left: 1rem;"></i>
          </ion-button>
        </div>
      </div>
    </div>
  </div>
  <div class="help" *ngIf="brief">
    <ion-label [translate]="'Need Help'" style="margin-right: 0.2rem"></ion-label>
    <ion-label
      style="color: #316EB4;
        font-weight: bold;"
    >
      <a (click)="openContactModal('contact us', 'support@growinco.com')" style="color: #f6a117; cursor: pointer;">
        <span [translate]="'Contact Us'"></span>
      </a>
    </ion-label>
  </div>
</ion-content>
